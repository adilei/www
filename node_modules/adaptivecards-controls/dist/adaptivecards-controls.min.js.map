{"version":3,"sources":["webpack://ACControls/webpack/universalModuleDefinition","webpack://ACControls/webpack/bootstrap","webpack://ACControls/./src/constants.ts","webpack://ACControls/./src/inputcontrol.ts","webpack://ACControls/./src/utils.ts","webpack://ACControls/./src/inputwithpopup.ts","webpack://ACControls/./src/collection.ts","webpack://ACControls/./src/enums.ts","webpack://ACControls/./src/calendar.ts","webpack://ACControls/./src/adaptivecards-controls.ts","webpack://ACControls/./src/dropdown.ts","webpack://ACControls/./src/datepicker.ts","webpack://ACControls/./src/checkbox.ts","webpack://ACControls/./src/radiobutton.ts","webpack://ACControls/./src/textbox.ts","webpack://ACControls/./src/popupmenu.ts"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","KEY_TAB","KEY_ENTER","KEY_ESCAPE","KEY_UP","KEY_DOWN","KEY_DELETE","InputControl","validateRootElement","rootElement","keyDown","e","_rootElement","attach","_this","onkeydown","Enums","CalendarSettings","getLongDayName","dayIndex","longDayNames","length","Error","getShortDayName","shortDayNames","getInitialDayName","minimalDayNames","getLongMonthName","monthIndex","longMonthNames","getShortMonthName","shortMonthNames","monthsInYear","daysInWeek","firstDayOfWeek","DayOfWeek","Sunday","addDays","date","days","result","Date","getTime","setDate","getDate","daysInMonth","year","month","addMonths","months","newMonth","getMonth","setMonth","areDatesEqual","date1","date2","getFullYear","getScrollX","window","pageXOffset","getScrollY","pageYOffset","getAttributeValueAsBool","element","attributeName","defaultValue","attribute","attributes","getAttributeValueAsString","getAttributeValueAsInt","parseInt","isNaN","Constants","Utils","inputcontrol_1","PopupControl","_isOpen","keyCode","closePopup","render","rootElementBounds","document","createElement","tabIndex","className","cancelBubble","appendChild","renderContent","focus","_popupElement","firstElementChild","popup","_overlayElement","style","width","documentElement","scrollWidth","height","scrollHeight","onfocus","body","getBoundingClientRect","classList","remove","top","popupElementBounds","availableSpaceBelow","innerHeight","bottom","availableSpaceAbove","availableSpaceRight","innerWidth","left","availableSpaceLeft","right","actualPopupHeight","Math","min","maxHeight","actualPopupWidth","maxWidth","add","wasCancelled","removeChild","onClose","InputWithPopup","_super","__extends","updateLabel","_labelElement","_value","innerHTML","getValueAsString","innerText","_placeholderText","_popupControl","getButtonIconCssClassName","toString","valueChanged","onValueChanged","getCssClassName","addEventListener","onclick","isOpen","placeHolderDomItem","getNamedItem","_dropDownButtonElement","createPopupControl","sender","popupControl","newValue","Collection","_items","onItemAdded","onItemRemoved","index","item","push","indexOf","splice","DayCell","_isSubdued","_isSelected","selected","onSelected","_element","Calendar","_selectedDay","_miniCalendarElement","cellPadding","cellSpacing","miniCalendarHeader","display","_monthYearLabelElement","flex","navButtons","button","_rootContainerElement","generateDayCells","baseDate","_days","inputMonth","inputYear","start","end","startDateDayOfWeek","getDay","endDateDayOfWeek","lastDayOfWeek","endDate","endMonth","endYear","dayCell","clickedCell","selectedDayCell","onDateChanged","done","isSelected","_date","initializeSelection","rebuildMiniCalendar","newDate","oldDate","row","cell","tableCell","isSubdued","timeDelta","rebuildNeeded","__export","collection_1","inputwithpopup_1","DropDownItem","click","onClick","onmouseup","DropDownPopupControl","owner","_renderedItems","_selectedIndex","_owner","selectedIndex","items","renderedItem","selectedItemIndex","renderedElement","minWidth","DropDown","clickedItem","itemClicked","selectedItem","HTMLDivElement","children","childElement","tagName","toLowerCase","calendar_1","CalendarPopupControl","_calendar","DatePicker","toLocaleDateString","CheckBox","apply","arguments","_label","_checkboxElement","_spanElement","createId","creationIndex","changed","onChange","isChecked","labelAttribute","isCheckedAttribute","_isChecked","id","type","position","checked","onchange","labelElement","htmlFor","RadioButton","groupNameAttribute","EditBox","SingleLineEditBox","_inputElement","oninput","placeholder","maxLength","substr","MultilineEditBox","_textareaElement","rows","TextBox","_isMultiline","_lineCount","editBoxChanged","recreateEditBox","currentValue","_editBox","lineCount","_maxLength","_placeholder","editBox","PopupMenu"],"mappings":"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","file":"adaptivecards-controls.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ACControls\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ACControls\"] = factory();\n\telse\n\t\troot[\"ACControls\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport const KEY_TAB = 9;\r\nexport const KEY_ENTER = 13;\r\nexport const KEY_ESCAPE = 27;\r\nexport const KEY_UP = 38;\r\nexport const KEY_DOWN = 40;\r\nexport const KEY_DELETE = 46;\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport abstract class InputControl {\r\n    private _rootElement: HTMLElement;\r\n\r\n    protected validateRootElement(rootElement: HTMLElement) {\r\n        // Do nothing - all root element types are valid.\r\n    }\r\n\r\n    protected keyDown(e: KeyboardEvent) {\r\n        // Do nothing in base implementation\r\n    }\r\n\r\n    protected get rootElement(): HTMLElement {\r\n        return this._rootElement;\r\n    }\r\n\r\n    attach(rootElement: HTMLElement) {\r\n        this.validateRootElement(rootElement);\r\n\r\n        this._rootElement = rootElement;\r\n        this._rootElement.onkeydown = (e) => { this.keyDown(e); };\r\n    }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as Enums from \"./enums\";\r\n\r\nexport class CalendarSettings {\r\n    static monthsInYear = 12;\r\n    static daysInWeek = 7;\r\n    static firstDayOfWeek = Enums.DayOfWeek.Sunday;\r\n    static longDayNames = [ \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\" ];\r\n    static shortDayNames = [ \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" ];\r\n    static minimalDayNames = [ \"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\" ];\r\n    static longMonthNames = [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ];\r\n    static shortMonthNames = [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ];\r\n\r\n    static getLongDayName(dayIndex: number) {\r\n        if (dayIndex >= 0 && dayIndex < CalendarSettings.longDayNames.length) {\r\n            return CalendarSettings.longDayNames[dayIndex];\r\n        }\r\n\r\n        throw new Error(\"Day index out of range: \" + dayIndex);\r\n    }\r\n\r\n    static getShortDayName(dayIndex: number) {\r\n        if (dayIndex >= 0 && dayIndex < CalendarSettings.shortDayNames.length) {\r\n            return CalendarSettings.shortDayNames[dayIndex];\r\n        }\r\n\r\n        throw new Error(\"Day index out of range: \" + dayIndex);\r\n    }\r\n\r\n    static getInitialDayName(dayIndex: number) {\r\n        if (dayIndex >= 0 && dayIndex < CalendarSettings.minimalDayNames.length) {\r\n            return CalendarSettings.minimalDayNames[dayIndex];\r\n        }\r\n\r\n        throw new Error(\"Day index out of range: \" + dayIndex);\r\n    }\r\n\r\n    static getLongMonthName(monthIndex: number) {\r\n        if (monthIndex >= 0 && monthIndex < CalendarSettings.longMonthNames.length) {\r\n            return CalendarSettings.longMonthNames[monthIndex];\r\n        }\r\n\r\n        throw new Error(\"Month index out of range: \" + monthIndex);\r\n    }\r\n\r\n    static getShortMonthName(monthIndex: number) {\r\n        if (monthIndex >= 0 && monthIndex < CalendarSettings.shortMonthNames.length) {\r\n            return CalendarSettings.shortMonthNames[monthIndex];\r\n        }\r\n\r\n        throw new Error(\"Month index out of range: \" + monthIndex);\r\n    }\r\n}\r\n\r\nexport function daysInMonth(year: number, month: number) {\r\n    switch (month) {\r\n        case 1:\r\n            return (year % 4 == 0 && year % 100) || year % 400 == 0 ? 29 : 28;\r\n        case 3:\r\n        case 5:\r\n        case 8:\r\n        case 10:\r\n            return 30;\r\n        default:\r\n            return 31\r\n    }\r\n}\r\n\r\nexport function addDays(date: Date, days: number): Date {\r\n    var result = new Date(date.getTime());\r\n\r\n    result.setDate(result.getDate() + days);\r\n\r\n    return result;\r\n}\r\n\r\nexport function addMonths(date: Date, months: number): Date {\r\n    var result = new Date(date.getTime());\r\n    var newMonth = result.getMonth() + months;\r\n\r\n    result.setMonth(newMonth);\r\n\r\n    // We want to maintain the same day-of-month, but that may not be possible if the new month doesn't have enough days.\r\n    // Loop until we back up to a day the new month has.\r\n    // (Weird modulo math is due to Javascript's treatment of negative numbers in modulo)\r\n    if (result.getMonth() !== ((newMonth % CalendarSettings.monthsInYear) + CalendarSettings.monthsInYear) % CalendarSettings.monthsInYear) {\r\n        result = addDays(result, -result.getDate());\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function areDatesEqual(date1: Date, date2: Date): boolean {\r\n    return date1.getFullYear() == date2.getFullYear() &&\r\n           date1.getMonth() == date2.getMonth() &&\r\n           date1.getDate() == date2.getDate();\r\n}\r\n\r\nexport function getScrollX(): number {\r\n    return window.pageXOffset;\r\n}\r\n\r\nexport function getScrollY(): number {\r\n    return window.pageYOffset;\r\n}\r\n\r\nexport function getAttributeValueAsBool(element: HTMLElement, attributeName: string, defaultValue: boolean) {\r\n    var attribute = element.attributes[attributeName];\r\n\r\n    if (attribute) {\r\n        return attribute.value === \"true\";\r\n    }\r\n\r\n    return defaultValue;\r\n}\r\n\r\nexport function getAttributeValueAsString(element: HTMLElement, attributeName: string, defaultValue: string) {\r\n    var attribute = element.attributes[attributeName];\r\n\r\n    if (attribute) {\r\n        return attribute.value;\r\n    }\r\n\r\n    return defaultValue;\r\n}\r\n\r\nexport function getAttributeValueAsInt(element: HTMLElement, attributeName: string, defaultValue: number) {\r\n    var attribute = element.attributes[attributeName];\r\n\r\n    if (attribute) {\r\n        var n = parseInt(attribute.value);\r\n\r\n        if (!isNaN(n)) {\r\n            return n;\r\n        }\r\n    }\r\n\r\n    return defaultValue;\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as Constants from \"./constants\";\r\nimport * as Utils from \"./utils\";\r\nimport { InputControl } from \"./inputcontrol\";\r\n\r\nexport abstract class PopupControl {\r\n    private _isOpen: boolean = false;\r\n    private _overlayElement: HTMLElement;\r\n    private _popupElement: HTMLElement;\r\n\r\n    protected abstract renderContent(): HTMLElement;\r\n\r\n    onClose: (popupControl: PopupControl, wasCancelled: boolean) => void;\r\n\r\n    keyDown(e: KeyboardEvent) {\r\n        switch (e.keyCode) {\r\n            case Constants.KEY_ESCAPE:\r\n                this.closePopup(true);\r\n\r\n                break;\r\n        }\r\n    }\r\n\r\n    render(rootElementBounds: ClientRect): HTMLElement {\r\n        let element = document.createElement(\"div\");\r\n        element.tabIndex = 0;\r\n        element.className = \"ms-ctrl ms-ctrl-popup-container\";\r\n        element.onkeydown = (e) => {\r\n            this.keyDown(e);\r\n\r\n            return !e.cancelBubble;\r\n        };\r\n\r\n        element.appendChild(this.renderContent());\r\n\r\n        return element;\r\n    }\r\n\r\n    focus() {\r\n        if (this._popupElement) {\r\n            (<HTMLElement>this._popupElement.firstElementChild).focus();\r\n        }\r\n    }\r\n\r\n    popup(rootElement: HTMLElement) {\r\n        if (!this._isOpen) {\r\n            this._overlayElement = document.createElement(\"div\");\r\n            this._overlayElement.className = \"ms-ctrl-overlay\";\r\n            this._overlayElement.tabIndex = 0;\r\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\r\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\r\n            this._overlayElement.onfocus = (e) => { this.closePopup(true); };\r\n\r\n            document.body.appendChild(this._overlayElement);\r\n\r\n            var rootElementBounds = rootElement.getBoundingClientRect();\r\n\r\n            this._popupElement = this.render(rootElementBounds);\r\n            this._popupElement.classList.remove(\r\n                \"ms-ctrl-slide\",\r\n                \"ms-ctrl-slideLeftToRight\",\r\n                \"ms-ctrl-slideRightToLeft\",\r\n                \"ms-ctrl-slideTopToBottom\",\r\n                \"ms-ctrl-slideRightToLeft\");\r\n\r\n            this._overlayElement.appendChild(this._popupElement);\r\n\r\n            var popupElementBounds = this._popupElement.getBoundingClientRect();\r\n\r\n            var availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\r\n            var availableSpaceAbove = rootElementBounds.top;\r\n            var availableSpaceRight = window.innerWidth - rootElementBounds.left;\r\n            var availableSpaceRight = window.innerWidth - rootElementBounds.right;\r\n            var availableSpaceLeft = rootElementBounds.left;\r\n\r\n            var left = rootElementBounds.left + Utils.getScrollX();\r\n            var top;\r\n\r\n            if (availableSpaceAbove < popupElementBounds.height && availableSpaceBelow < popupElementBounds.height) {\r\n                // Not enough space above or below root element\r\n                var actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\r\n\r\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\r\n\r\n                if (actualPopupHeight < popupElementBounds.height) {\r\n                    top = Utils.getScrollY();\r\n                }\r\n                else {\r\n                    top = Utils.getScrollY() + rootElementBounds.top + (rootElementBounds.height - actualPopupHeight) /2;\r\n                }\r\n\r\n                if (availableSpaceLeft < popupElementBounds.width && availableSpaceRight < popupElementBounds.width) {\r\n                    // Not enough space left or right of root element\r\n                    var actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\r\n\r\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\r\n\r\n                    if (actualPopupWidth < popupElementBounds.width) {\r\n                        left = Utils.getScrollX();\r\n                    }\r\n                    else {\r\n                        left = Utils.getScrollX() + rootElementBounds.left + (rootElementBounds.width - actualPopupWidth) /2;\r\n                    }\r\n                }\r\n                else {\r\n                    // Enough space on the left or right of the root element\r\n                    if (availableSpaceRight >= popupElementBounds.width) {\r\n                        left = Utils.getScrollX() + rootElementBounds.right;\r\n\r\n                        this._popupElement.classList.add(\"ms-ctrl-slide\", \"ms-ctrl-slideLeftToRight\");\r\n                    }\r\n                    else {\r\n                        left = Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\r\n\r\n                        this._popupElement.classList.add(\"ms-ctrl-slide\", \"ms-ctrl-slideRightToLeft\");\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                // Enough space above or below root element\r\n                if (availableSpaceBelow >= popupElementBounds.height) {\r\n                    top = Utils.getScrollY() + rootElementBounds.bottom;\r\n\r\n                    this._popupElement.classList.add(\"ms-ctrl-slide\", \"ms-ctrl-slideTopToBottom\");\r\n                }\r\n                else {\r\n                    top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height\r\n\r\n                    this._popupElement.classList.add(\"ms-ctrl-slide\", \"ms-ctrl-slideBottomToTop\");\r\n                }\r\n\r\n                if (availableSpaceRight < popupElementBounds.width) {\r\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\r\n                }\r\n            }\r\n\r\n            this._popupElement.style.left = left + \"px\";\r\n            this._popupElement.style.top = top + \"px\";\r\n\r\n            this._popupElement.focus();\r\n\r\n            this._isOpen = true;\r\n        }\r\n    }\r\n\r\n    closePopup(wasCancelled: boolean) {\r\n        if (this._isOpen) {\r\n            document.body.removeChild(this._overlayElement);\r\n\r\n            this._isOpen = false;\r\n\r\n            if (this.onClose) {\r\n                this.onClose(this, wasCancelled);\r\n            }\r\n        }\r\n    }\r\n\r\n    get isOpen(): boolean {\r\n        return this._isOpen;\r\n    }\r\n}\r\n\r\nexport abstract class InputWithPopup<TPopupControl extends PopupControl, TValue> extends InputControl {\r\n    private _labelElement: HTMLElement;\r\n    private _dropDownButtonElement: HTMLElement;\r\n    private _popupControl: TPopupControl;\r\n    private _placeholderText: string;\r\n    private _value: TValue;\r\n\r\n    protected keyDown(e: KeyboardEvent) {\r\n        switch (e.keyCode) {\r\n            case Constants.KEY_ENTER:\r\n                this.popup();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private updateLabel() {\r\n        if (this._labelElement) {\r\n            if (this._value) {\r\n                this._labelElement.innerHTML = this.getValueAsString();\r\n                this._labelElement.classList.remove(\"placeholder\");\r\n            }\r\n            else {\r\n                this._labelElement.innerText = this._placeholderText ? this._placeholderText : \"\";\r\n                this._labelElement.classList.add(\"placeholder\");\r\n            }\r\n        }\r\n    }\r\n\r\n    protected get popupControl(): TPopupControl {\r\n        return this._popupControl;\r\n    }\r\n\r\n    protected abstract createPopupControl(): TPopupControl;\r\n    protected abstract getCssClassName(): string;\r\n\r\n    protected getButtonIconCssClassName(): string {\r\n        return \"ms-icon-chevronDown\";\r\n    }\r\n\r\n    protected getValueAsString(): string {\r\n        return this._value.toString();\r\n    }\r\n\r\n    protected valueChanged() {\r\n        if (this.onValueChanged) {\r\n            this.onValueChanged(this);\r\n        }\r\n    }\r\n\r\n    onValueChanged: (sender: InputControl) => void;\r\n\r\n    attach(rootElement: HTMLElement) {\r\n        super.attach(rootElement);\r\n\r\n        rootElement.tabIndex = 0;\r\n        rootElement.className = this.getCssClassName();\r\n\r\n        window.addEventListener(\"resize\", (e) => { this.closePopup(true); });\r\n\r\n        this.rootElement.onclick = (e) => {\r\n            if (this.isOpen) {\r\n                this.closePopup(true);\r\n            }\r\n            else {\r\n                this.popup();\r\n            }\r\n        };\r\n\r\n        let placeHolderDomItem = this.rootElement.attributes.getNamedItem(\"placeholder\");\r\n\r\n        if (placeHolderDomItem) {\r\n            this._placeholderText = placeHolderDomItem.value;\r\n        }\r\n\r\n        this._labelElement = document.createElement(\"span\");\r\n        this._labelElement.className = \"ms-ctrl ms-dropdown-label\";\r\n\r\n        this._dropDownButtonElement = document.createElement(\"i\");\r\n        this._dropDownButtonElement.className = \"ms-icon ms-ctrl-dropdown-button \" + this.getButtonIconCssClassName();\r\n\r\n        this.rootElement.appendChild(this._labelElement);\r\n        this.rootElement.appendChild(this._dropDownButtonElement);\r\n\r\n        this.updateLabel();\r\n    }\r\n\r\n    popup() {\r\n        this._popupControl = this.createPopupControl();\r\n        this._popupControl = this.createPopupControl();\r\n        this._popupControl.onClose = (sender, wasCancelled) => {\r\n            this.closePopup(wasCancelled);\r\n\r\n            this.rootElement.focus();\r\n        };\r\n\r\n        this._popupControl.popup(this.rootElement);\r\n    }\r\n\r\n    closePopup(wasCancelled: boolean) {\r\n        if (this.popupControl) {\r\n            this.popupControl.closePopup(wasCancelled);\r\n        }\r\n    }\r\n\r\n    get isOpen(): boolean {\r\n        return this._popupControl ? this._popupControl.isOpen : false;\r\n    }\r\n\r\n    get placeholderText(): string {\r\n        return this._placeholderText;\r\n    }\r\n\r\n    set placeholderText(value: string) {\r\n        this._placeholderText = value;\r\n    }\r\n\r\n    get value(): TValue {\r\n        return this._value;\r\n    }\r\n\r\n    set value(newValue: TValue) {\r\n        if (this._value != newValue) {\r\n            this._value = newValue;\r\n\r\n            this.updateLabel();\r\n            this.valueChanged();\r\n        }\r\n    }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport class Collection<TItem> {\r\n    private _items: Array<TItem> = [];\r\n\r\n    onItemAdded: (item: TItem) => void = null;\r\n    onItemRemoved: (item: TItem) => void = null;\r\n\r\n    get(index: number): TItem {\r\n        return this._items[index];\r\n    }\r\n\r\n    add(item: TItem) {\r\n        this._items.push(item);\r\n\r\n        if (this.onItemAdded) {\r\n            this.onItemAdded(item);\r\n        }\r\n    }\r\n\r\n    remove(item: TItem) {\r\n        var i = this._items.indexOf(item);\r\n\r\n        if (i >= 0) {\r\n            this._items = this._items.splice(i, 1);\r\n\r\n            if (this.onItemRemoved) {\r\n                this.onItemRemoved(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    indexOf(item: TItem): number {\r\n        return this._items.indexOf(item);\r\n    }\r\n\r\n    get length(): number {\r\n        return this._items.length;\r\n    }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport enum DayOfWeek {\r\n    Sunday = 0,\r\n    Monday = 1,\r\n    Tuesday = 2,\r\n    Wednesday = 3,\r\n    Thursday = 4,\r\n    Friday = 5,\r\n    Saturday = 6\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as Utils from \"./utils\";\r\nimport * as Constants from \"./constants\";\r\nimport * as Enums from \"./enums\";\r\nimport { InputControl } from \"./inputcontrol\";\r\n\r\nexport class DayCell {\r\n    private _element: HTMLElement;\r\n    private _isSubdued: boolean = false;\r\n    private _isSelected: boolean = false;\r\n\r\n    private selected() {\r\n        if (this.onSelected) {\r\n            this.onSelected(this);\r\n        }\r\n    }\r\n\r\n    readonly date: Date;\r\n\r\n    onSelected: (cell: DayCell) => void;\r\n\r\n    constructor(date: Date) {\r\n        this.date = date;\r\n    }\r\n\r\n    render(): HTMLElement {\r\n        this._element = document.createElement(\"div\");\r\n        this._element.className = \"ms-ctrl ms-ctrl-calendarDay\";\r\n        this._element.innerText = this.date.getDate().toString();\r\n        this._element.tabIndex = 0;\r\n        this._element.onclick = (e) => { this.selected(); };\r\n        this._element.onkeydown = (e) => {\r\n            if (e.keyCode == Constants.KEY_ENTER) {\r\n                this.selected();\r\n                return false;\r\n            }\r\n        };\r\n\r\n        return this._element;\r\n    }\r\n\r\n    focus() {\r\n        this._element.focus();\r\n    }\r\n\r\n    get isSubdued(): boolean {\r\n        return this._isSubdued;\r\n    }\r\n\r\n    set isSubdued(value: boolean) {\r\n        this._isSubdued = value;\r\n\r\n        if (this._isSubdued) {\r\n            this._element.classList.add(\"subdued\");\r\n        }\r\n        else {\r\n            this._element.classList.remove(\"subdued\");\r\n        }\r\n    }\r\n\r\n    get isSelected(): boolean {\r\n        return this._isSelected;\r\n    }\r\n\r\n    set isSelected(value: boolean) {\r\n        this._isSelected = value;\r\n\r\n        if (this._isSelected) {\r\n            this._element.classList.add(\"selected\");\r\n        }\r\n        else {\r\n            this._element.classList.remove(\"selected\");\r\n        }\r\n    }\r\n}\r\n\r\nexport class Calendar extends InputControl {\r\n    private _date: Date;\r\n    private _days: Array<DayCell>;\r\n    private _selectedDay: DayCell = null;\r\n    private _rootContainerElement: HTMLElement;\r\n    private _miniCalendarElement: HTMLTableElement;\r\n    private _monthYearLabelElement: HTMLElement;\r\n\r\n    private generateDayCells(baseDate: Date) {\r\n        this._days = [];\r\n\r\n        var inputMonth = baseDate.getMonth();\r\n        var inputYear = baseDate.getFullYear();\r\n\r\n        var start = new Date(inputYear, inputMonth, 1);\r\n        var end = new Date(inputYear, inputMonth, Utils.daysInMonth(inputYear, inputMonth));\r\n\r\n        var startDateDayOfWeek = start.getDay();\r\n\r\n        if ((startDateDayOfWeek - Utils.CalendarSettings.firstDayOfWeek) > 0) {\r\n            start = Utils.addDays(start, Utils.CalendarSettings.firstDayOfWeek - startDateDayOfWeek);\r\n        }\r\n\r\n        var endDateDayOfWeek = end.getDay();\r\n        var lastDayOfWeek = Utils.CalendarSettings.firstDayOfWeek + 6;\r\n\r\n        if ((lastDayOfWeek - endDateDayOfWeek) > 0) {\r\n            end = Utils.addDays(end, lastDayOfWeek - endDateDayOfWeek);\r\n        }\r\n\r\n        var endDate = end.getDate();\r\n        var endMonth = end.getMonth();\r\n        var endYear = end.getFullYear();\r\n\r\n        do {\r\n            var dayCell = new DayCell(start);\r\n\r\n            dayCell.onSelected = (clickedCell) => {\r\n                this.selectedDayCell = clickedCell;\r\n\r\n                if (this.onDateChanged) {\r\n                    this.onDateChanged(this);\r\n                }\r\n            }\r\n\r\n            this._days.push(dayCell);\r\n\r\n            var done = start.getDate() == endDate && start.getMonth() == endMonth && start.getFullYear() == endYear;\r\n\r\n            start = Utils.addDays(start, 1);\r\n        } while (!done);\r\n    }\r\n\r\n    private get selectedDayCell(): DayCell {\r\n        return this._selectedDay;\r\n    }\r\n\r\n    private set selectedDayCell(value: DayCell) {\r\n        if (this._selectedDay) {\r\n            this._selectedDay.isSelected = false;\r\n        }\r\n\r\n        this._selectedDay = value;\r\n\r\n        if (this._selectedDay) {\r\n            this._selectedDay.isSelected = true;\r\n            this._date = this._selectedDay.date;\r\n        }\r\n    }\r\n\r\n    private initializeSelection() {\r\n        if (this._date) {\r\n            for (var i = 0; i < this._days.length; i++) {\r\n                if (Utils.areDatesEqual(this._days[i].date, this.date)) {\r\n                    this.selectedDayCell = this._days[i];\r\n\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private rebuildMiniCalendar(newDate: Date, oldDate: Date) {\r\n        this.generateDayCells(newDate);\r\n\r\n        var month = newDate.getMonth();\r\n\r\n        this._miniCalendarElement.innerHTML = \"\";\r\n\r\n        this._miniCalendarElement.classList.remove(\r\n            \"ms-ctrl-slide\",\r\n            \"ms-ctrl-slideLeftToRight\",\r\n            \"ms-ctrl-slideRightToLeft\");\r\n\r\n        var row = document.createElement(\"tr\");\r\n\r\n        var dayIndex = <number>Utils.CalendarSettings.firstDayOfWeek;\r\n\r\n        for (var i = 0; i < Utils.CalendarSettings.daysInWeek; i++) {\r\n            var cell = document.createElement(\"td\");\r\n            cell.className = \"ms-ctrl ms-ctrl-calendarDayHeader\";\r\n            cell.innerText = Utils.CalendarSettings.getInitialDayName(dayIndex);\r\n\r\n            row.appendChild(cell);\r\n\r\n            dayIndex++;\r\n\r\n            if (dayIndex >= Utils.CalendarSettings.daysInWeek) {\r\n                dayIndex = 0;\r\n            }\r\n        }\r\n\r\n        this._miniCalendarElement.appendChild(row);\r\n\r\n        for (var i = 0; i < this._days.length; i++) {\r\n            if (i % 7 == 0) {\r\n                row = document.createElement(\"tr\");\r\n                this._miniCalendarElement.appendChild(row);\r\n            }\r\n\r\n            var tableCell = document.createElement(\"td\");\r\n            tableCell.appendChild(this._days[i].render());\r\n\r\n            if (this._days[i].date.getMonth() != month) {\r\n                this._days[i].isSubdued = true;\r\n            }\r\n\r\n            row.appendChild(tableCell);\r\n        }\r\n\r\n        if (oldDate) {\r\n            var timeDelta = newDate.getTime() - oldDate.getTime();\r\n\r\n            if (timeDelta > 0) {\r\n                this._miniCalendarElement.classList.add(\"ms-ctrl-slide\", \"ms-ctrl-slideRightToLeft\");\r\n            }\r\n            else if (timeDelta < 0) {\r\n                this._miniCalendarElement.classList.add(\"ms-ctrl-slide\", \"ms-ctrl-slideLeftToRight\");\r\n            }\r\n        }\r\n    }\r\n\r\n    onDateChanged: (calendar: Calendar) => void;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._miniCalendarElement = document.createElement(\"table\");\r\n        this._miniCalendarElement.className = \"ms-ctrl ms-ctrl-slide\";\r\n        this._miniCalendarElement.cellPadding = \"0px\";\r\n        this._miniCalendarElement.cellSpacing = \"0px\";\r\n\r\n        var miniCalendarHeader = document.createElement(\"div\");\r\n        miniCalendarHeader.className = \"ms-ctrl ms-ctrl-calendarHeader\";\r\n        miniCalendarHeader.style.display = \"flex\";\r\n\r\n        this._monthYearLabelElement = document.createElement(\"div\");\r\n        this._monthYearLabelElement.style.flex = \"1 1 100%\";\r\n\r\n        miniCalendarHeader.appendChild(this._monthYearLabelElement);\r\n\r\n        var navButtons = document.createElement(\"div\");\r\n        navButtons.style.flex = \"0 0 auto\";\r\n\r\n        var button = document.createElement(\"i\");\r\n        button.className = \"ms-icon ms-ctrl-calendarNavButton ms-icon-chevronLeft\";\r\n        button.tabIndex = 0;\r\n        button.onclick = (e) => {\r\n            this.date = Utils.addMonths(this.date, -1);\r\n        };\r\n        button.onkeydown = (e) => {\r\n            if (e.keyCode == Constants.KEY_ENTER) {\r\n                this.date = Utils.addMonths(this.date, -1);\r\n                return false;\r\n            }\r\n        };\r\n\r\n        navButtons.appendChild(button);\r\n\r\n        button = document.createElement(\"i\");\r\n        button.className = \"ms-icon ms-ctrl-calendarNavButton ms-icon-chevronRight\";\r\n        button.tabIndex = 0;\r\n        button.onclick = (e) => {\r\n            this.date = Utils.addMonths(this.date, 1);\r\n        };\r\n        button.onkeydown = (e) => {\r\n            if (e.keyCode == Constants.KEY_ENTER) {\r\n                this.date = Utils.addMonths(this.date, 1);\r\n                return false;\r\n            }\r\n        };\r\n\r\n        navButtons.appendChild(button);\r\n\r\n        miniCalendarHeader.appendChild(navButtons);\r\n\r\n        this._rootContainerElement = document.createElement(\"div\");\r\n        this._rootContainerElement.className = \"ms-ctrl ms-ctrl-calendar\";\r\n        this._rootContainerElement.appendChild(miniCalendarHeader);\r\n        this._rootContainerElement.appendChild(this._miniCalendarElement);\r\n\r\n        this.date = new Date();\r\n    }\r\n\r\n    attach(rootElement: HTMLElement) {\r\n        super.attach(rootElement);\r\n\r\n        rootElement.innerHTML = \"\";\r\n        rootElement.appendChild(this._rootContainerElement);\r\n    }\r\n\r\n    focus() {\r\n        if (this._selectedDay) {\r\n            this._selectedDay.focus();\r\n        }\r\n    }\r\n\r\n    get date(): Date {\r\n        return this._date;\r\n    }\r\n\r\n    set date(value: Date) {\r\n        var rebuildNeeded = true;\r\n        var timeDelta = 0;\r\n\r\n        var newDate = value ? value : new Date();\r\n\r\n        if (this._date) {\r\n            rebuildNeeded = !this._days || newDate.getFullYear() != this._date.getFullYear() || newDate.getMonth() != this._date.getMonth();\r\n        }\r\n\r\n        if (rebuildNeeded) {\r\n            this.rebuildMiniCalendar(newDate, this._date);\r\n        }\r\n\r\n        this._date = newDate;\r\n\r\n        this.initializeSelection();\r\n\r\n        this._monthYearLabelElement.innerText = Utils.CalendarSettings.getLongMonthName(this._date.getMonth()) + \" \" + this._date.getFullYear();\r\n    }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport * from \"./constants\";\r\nexport * from \"./enums\";\r\nexport * from \"./utils\";\r\nexport * from \"./collection\";\r\nexport * from \"./inputcontrol\";\r\nexport * from \"./inputwithpopup\";\r\nexport * from \"./calendar\";\r\nexport * from \"./dropdown\";\r\nexport * from \"./datepicker\";\r\nexport * from \"./checkbox\";\r\nexport * from \"./radiobutton\";\r\nexport * from \"./textbox\";\r\nexport * from \"./popupmenu\";\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as Constants from \"./constants\";\r\nimport { Collection } from \"./collection\";\r\nimport { InputWithPopup, PopupControl } from \"./inputwithpopup\";\r\n\r\nexport class DropDownItem {\r\n    private _element: HTMLElement;\r\n    private _value: string;\r\n\r\n    private click() {\r\n        if (this.onClick) {\r\n            this.onClick(this);\r\n        }\r\n    }\r\n\r\n    readonly key: string;\r\n\r\n    onClick: (item: DropDownItem) => void;\r\n\r\n    constructor(key: string, value: string) {\r\n        this.key = key;\r\n        this._value = value;\r\n    }\r\n\r\n    toString(): string {\r\n        return this.value;\r\n    }\r\n\r\n    render(): HTMLElement {\r\n        if (!this._element) {\r\n            this._element = document.createElement(\"span\");\r\n            this._element.className = \"ms-ctrl ms-ctrl-dropdown-item\";\r\n            this._element.innerText = this.value;\r\n            this._element.onmouseup = (e) => { this.click(); };\r\n        }\r\n\r\n        return this._element;\r\n    }\r\n\r\n    get value(): string {\r\n        return this._value;\r\n    }\r\n\r\n    set value(newValue: string) {\r\n        this._value = newValue;\r\n\r\n        if (this._element) {\r\n            this._element.innerText = newValue;\r\n        }\r\n    }\r\n}\r\n\r\nexport class DropDownPopupControl extends PopupControl {\r\n    private _owner: DropDown;\r\n    private _renderedItems: Array<HTMLElement> = [];\r\n    private _selectedIndex: number = -1;\r\n\r\n    constructor(owner: DropDown) {\r\n        super();\r\n\r\n        this._owner = owner;\r\n    }\r\n\r\n    protected renderContent(): HTMLElement {\r\n        var element = document.createElement(\"div\");\r\n        element.className = \"ms-ctrl ms-popup\";\r\n\r\n        var selectedIndex = this._owner.selectedIndex;\r\n\r\n        for (var i = 0; i < this._owner.items.length; i++) {\r\n            var renderedItem = this._owner.items.get(i).render();\r\n            renderedItem.tabIndex = 0;\r\n\r\n            element.appendChild(renderedItem);\r\n\r\n            if (i == selectedIndex) {\r\n                renderedItem.focus();\r\n            }\r\n\r\n            this._renderedItems.push(renderedItem);\r\n        }\r\n\r\n        return element;\r\n    }\r\n\r\n    keyDown(e: KeyboardEvent) {\r\n        super.keyDown(e);\r\n\r\n        var selectedItemIndex = this._selectedIndex;\r\n\r\n        switch (e.keyCode) {\r\n            case Constants.KEY_TAB:\r\n                this.closePopup(true);\r\n\r\n                break;\r\n            case Constants.KEY_ENTER:\r\n                if (this.selectedIndex >= 0) {\r\n                    this._owner.selectedIndex = this.selectedIndex;\r\n\r\n                    this.closePopup(false);\r\n                }\r\n\r\n                break;\r\n            case Constants.KEY_UP:\r\n                if (selectedItemIndex <= 0) {\r\n                    selectedItemIndex = this._renderedItems.length - 1;\r\n                }\r\n                else {\r\n                    selectedItemIndex--;\r\n\r\n                    if (selectedItemIndex < 0) {\r\n                        selectedItemIndex = this._renderedItems.length - 1;\r\n                    }\r\n                }\r\n\r\n                this.selectedIndex = selectedItemIndex;\r\n\r\n                e.cancelBubble = true;\r\n\r\n                break;\r\n            case Constants.KEY_DOWN:\r\n                if (selectedItemIndex < 0) {\r\n                    selectedItemIndex = 0;\r\n                }\r\n                else {\r\n                    selectedItemIndex++;\r\n\r\n                    if (selectedItemIndex >= this._renderedItems.length) {\r\n                        selectedItemIndex = 0;\r\n                    }\r\n                }\r\n\r\n                this.selectedIndex = selectedItemIndex;\r\n\r\n                e.cancelBubble = true;\r\n\r\n                break;\r\n        }\r\n    }\r\n\r\n    render(rootElementBounds: ClientRect) {\r\n        var renderedElement = super.render(rootElementBounds);\r\n\r\n        renderedElement.style.minWidth = (rootElementBounds.width / 2) + \"px\";\r\n        renderedElement.style.maxWidth = rootElementBounds.width + \"px\";\r\n\r\n        return renderedElement;\r\n    }\r\n\r\n    get selectedIndex(): number {\r\n        return this._selectedIndex;\r\n    }\r\n\r\n    set selectedIndex(index: number) {\r\n        if (index >= 0 && index < this._renderedItems.length) {\r\n            this._renderedItems[index].focus();\r\n\r\n            this._selectedIndex = index;\r\n        }\r\n    }\r\n}\r\n\r\nexport class DropDown extends InputWithPopup<DropDownPopupControl, DropDownItem> {\r\n    private _items: Collection<DropDownItem>;\r\n\r\n    private itemClicked(item: DropDownItem) {\r\n        this.selectedItem = item;\r\n        this.closePopup(false);\r\n\r\n        this.rootElement.focus();\r\n    }\r\n\r\n    protected validateRootElement(rootElement: HTMLElement) {\r\n        if (!(rootElement instanceof HTMLDivElement)) {\r\n            throw new Error(\"DropDown requires a DIV element as its root.\");\r\n        }\r\n    }\r\n\r\n    protected createPopupControl(): DropDownPopupControl {\r\n        return new DropDownPopupControl(this);\r\n    }\r\n\r\n    protected getCssClassName(): string {\r\n        return \"ms-ctrl ms-ctrl-dropdown\";\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._items = new Collection<DropDownItem>();\r\n        this._items.onItemAdded = (item) => { item.onClick = (clickedItem) => { this.itemClicked(clickedItem); }; }\r\n        this._items.onItemRemoved = (item) => { item.onClick = null; }\r\n    }\r\n\r\n    attach(rootElement: HTMLElement) {\r\n        super.attach(rootElement);\r\n\r\n        for (var i = 0; i < this.rootElement.children.length; i++) {\r\n            var childElement = this.rootElement.children[i];\r\n\r\n            if (childElement.tagName.toLowerCase() == \"ms-dropdown-item\") {\r\n                var item = new DropDownItem(\r\n                    childElement.attributes.getNamedItem(\"key\").value,\r\n                    childElement.attributes.getNamedItem(\"value\").value);\r\n\r\n                this._items.add(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    popup() {\r\n        super.popup();\r\n\r\n        this.popupControl.selectedIndex = this.selectedIndex;\r\n    }\r\n\r\n    get items(): Collection<DropDownItem> {\r\n        return this._items;\r\n    }\r\n\r\n    get selectedItem(): DropDownItem {\r\n        return <DropDownItem>this.value;\r\n    }\r\n\r\n    set selectedItem(newValue: DropDownItem) {\r\n        this.value = newValue;\r\n    }\r\n\r\n    get selectedIndex(): number {\r\n        return this.items.indexOf(this.value);\r\n    }\r\n\r\n    set selectedIndex(index: number) {\r\n        if (index >= 0 && this.items.length > index) {\r\n            this.selectedItem = this.items.get(index);\r\n        }\r\n    }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { InputWithPopup, PopupControl } from \"./inputwithpopup\";\r\nimport { Calendar } from \"./calendar\";\r\n\r\nexport class CalendarPopupControl extends PopupControl {\r\n    private _owner: DatePicker;\r\n    private _calendar: Calendar;\r\n\r\n    constructor(owner: DatePicker) {\r\n        super();\r\n\r\n        this._owner = owner;\r\n    }\r\n\r\n    protected renderContent(): HTMLElement {\r\n        var element = document.createElement(\"div\");\r\n        element.className = \"ms-ctrl ms-calendarPopup\";\r\n\r\n        this._calendar = new Calendar();\r\n        this._calendar.date = this._owner.value;\r\n        this._calendar.onDateChanged = (c) => {\r\n            this._owner.value = c.date;\r\n\r\n            this.closePopup(false);\r\n        };\r\n        this._calendar.attach(element);\r\n\r\n        return element;\r\n    }\r\n\r\n    focus() {\r\n        if (this._calendar) {\r\n            this._calendar.focus();\r\n        }\r\n    }\r\n}\r\n\r\nexport class DatePicker extends InputWithPopup<CalendarPopupControl, Date> {\r\n    protected validateRootElement(rootElement: HTMLElement) {\r\n        if (!(rootElement instanceof HTMLDivElement)) {\r\n            throw new Error(\"DatePicker requires a DIV element as its root.\");\r\n        }\r\n    }\r\n\r\n    protected createPopupControl(): CalendarPopupControl {\r\n        return new CalendarPopupControl(this);\r\n    }\r\n\r\n    protected getValueAsString(): string {\r\n        return this.value.toLocaleDateString();\r\n    }\r\n\r\n    protected getCssClassName(): string {\r\n        return \"ms-ctrl ms-ctrl-datePicker\";\r\n    }\r\n\r\n    protected getButtonIconCssClassName(): string {\r\n        return \"ms-icon-calendar\";\r\n    }\r\n\r\n    popup() {\r\n        super.popup();\r\n\r\n        if (this.isOpen) {\r\n            this.popupControl.focus();\r\n        }\r\n    }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as Constants from \"./constants\";\r\nimport { InputControl } from \"./inputcontrol\";\r\n\r\nexport class CheckBox extends InputControl {\r\n    // Used to generate unique Ids\r\n    private static creationIndex = 0;\r\n\r\n    private static createId(): number {\r\n        var result = CheckBox.creationIndex;\r\n\r\n        CheckBox.creationIndex++;\r\n\r\n        return result;\r\n    }\r\n\r\n    private _label: string = \"\";\r\n    private _isChecked: boolean;\r\n    private _checkboxElement: HTMLInputElement = null;\r\n    private _spanElement: HTMLSpanElement = null;\r\n\r\n    private changed() {\r\n        if (this.onChange) {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    protected keyDown(e: KeyboardEvent) {\r\n        switch (e.keyCode) {\r\n            case Constants.KEY_ENTER:\r\n                this.isChecked = !this.isChecked;\r\n                break;\r\n        }\r\n    }\r\n\r\n    onChange: (sender: CheckBox) => void;\r\n\r\n    attach(rootElement: HTMLElement) {\r\n        super.attach(rootElement);\r\n\r\n        rootElement.className = \"ms-ctrl ms-ctrl-checkbox\";\r\n        rootElement.tabIndex = 0;\r\n\r\n        var labelAttribute = rootElement.attributes[\"label\"];\r\n\r\n        if (labelAttribute) {\r\n            this._label = labelAttribute.value;\r\n        }\r\n\r\n        var isCheckedAttribute = rootElement.attributes[\"ischecked\"];\r\n\r\n        if (isCheckedAttribute) {\r\n            this._isChecked = isCheckedAttribute.value === \"true\";\r\n        }\r\n\r\n        this._checkboxElement = document.createElement(\"input\");\r\n        this._checkboxElement.id = \"ms-ctrl-checkbox-\" + CheckBox.createId();\r\n        this._checkboxElement.type = \"checkbox\";\r\n        this._checkboxElement.style.position = \"absolute\";\r\n        this._checkboxElement.checked = this.isChecked;\r\n        this._checkboxElement.onchange = (e) => { this.changed() };\r\n\r\n        var labelElement = document.createElement(\"label\")\r\n        labelElement.htmlFor = this._checkboxElement.id;\r\n\r\n        this._spanElement = document.createElement(\"span\");\r\n        this._spanElement.innerText = this._label;\r\n\r\n        labelElement.appendChild(this._spanElement);\r\n\r\n        rootElement.innerHTML = \"\";\r\n        rootElement.appendChild(this._checkboxElement);\r\n        rootElement.appendChild(labelElement);\r\n    }\r\n\r\n    get label(): string {\r\n        return this._label;\r\n    }\r\n\r\n    set label(value: string) {\r\n        this._label = value;\r\n\r\n        if (this._spanElement) {\r\n            this._spanElement.innerText = this._label;\r\n        }\r\n    }\r\n\r\n    get isChecked(): boolean {\r\n        return this._isChecked;\r\n    }\r\n\r\n    set isChecked(value: boolean) {\r\n        if (this._isChecked != value) {\r\n            this._isChecked = value;\r\n\r\n            if (this._checkboxElement) {\r\n                this._checkboxElement.checked = this._isChecked;\r\n            }\r\n\r\n            this.changed();\r\n        }\r\n    }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as Constants from \"./constants\";\r\nimport { InputControl } from \"./inputcontrol\";\r\n\r\nexport class RadioButton extends InputControl {\r\n    // Used to generate unique Ids\r\n    private static creationIndex = 0;\r\n\r\n    private static createId(): number {\r\n        var result = RadioButton.creationIndex;\r\n\r\n        RadioButton.creationIndex++;\r\n\r\n        return result;\r\n    }\r\n\r\n    private _label: string = \"\";\r\n    private _isChecked: boolean;\r\n    private _checkboxElement: HTMLInputElement = null;\r\n    private _spanElement: HTMLSpanElement = null;\r\n\r\n    private changed() {\r\n        if (this.onChange) {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    protected keyDown(e: KeyboardEvent) {\r\n        switch (e.keyCode) {\r\n            case Constants.KEY_ENTER:\r\n                this.isChecked = !this.isChecked;\r\n                break;\r\n        }\r\n    }\r\n\r\n    onChange: (sender: RadioButton) => void;\r\n\r\n    attach(rootElement: HTMLElement) {\r\n        super.attach(rootElement);\r\n\r\n        rootElement.className = \"ms-ctrl ms-ctrl-radiobutton\";\r\n        rootElement.tabIndex = 0;\r\n\r\n        var labelAttribute = rootElement.attributes[\"label\"];\r\n\r\n        if (labelAttribute) {\r\n            this._label = labelAttribute.value;\r\n        }\r\n\r\n        var isCheckedAttribute = rootElement.attributes[\"ischecked\"];\r\n\r\n        if (isCheckedAttribute) {\r\n            this._isChecked = isCheckedAttribute.value === \"true\";\r\n        }\r\n\r\n        this._checkboxElement = document.createElement(\"input\");\r\n        this._checkboxElement.id = \"ms-ctrl-radio-\" + RadioButton.createId();\r\n        this._checkboxElement.type = \"radio\";\r\n        this._checkboxElement.style.position = \"absolute\";\r\n        this._checkboxElement.checked = this.isChecked;\r\n        this._checkboxElement.onchange = (e) => { this.changed() };\r\n\r\n        var groupNameAttribute = rootElement.attributes[\"groupname\"];\r\n\r\n        if (groupNameAttribute) {\r\n            this._checkboxElement.name = groupNameAttribute.value;\r\n        }\r\n\r\n        var labelElement = document.createElement(\"label\")\r\n        labelElement.htmlFor = this._checkboxElement.id;\r\n\r\n        this._spanElement = document.createElement(\"span\");\r\n        this._spanElement.innerText = this._label;\r\n\r\n        labelElement.appendChild(this._spanElement);\r\n\r\n        rootElement.innerHTML = \"\";\r\n        rootElement.appendChild(this._checkboxElement);\r\n        rootElement.appendChild(labelElement);\r\n    }\r\n\r\n    get label(): string {\r\n        return this._label;\r\n    }\r\n\r\n    set label(value: string) {\r\n        this._label = value;\r\n\r\n        if (this._spanElement) {\r\n            this._spanElement.innerText = this._label;\r\n        }\r\n    }\r\n\r\n    get isChecked(): boolean {\r\n        return this._isChecked;\r\n    }\r\n\r\n    set isChecked(value: boolean) {\r\n        if (this._isChecked != value) {\r\n            this._isChecked = value;\r\n\r\n            if (this._checkboxElement) {\r\n                this._checkboxElement.checked = this._isChecked;\r\n            }\r\n\r\n            this.changed();\r\n        }\r\n    }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as Constants from \"./constants\";\r\nimport * as Utils from \"./utils\";\r\nimport { InputControl } from \"./inputcontrol\";\r\n\r\nabstract class EditBox {\r\n    protected changed() {\r\n        if (this.onChange) {\r\n            this.onChange();\r\n        }\r\n    }\r\n\r\n    onChange: () => void;\r\n\r\n    abstract get element(): HTMLElement;\r\n\r\n    abstract set placeholder(value: string);\r\n    abstract set lineCount(value: number);\r\n    abstract set maxLength(value: number);\r\n\r\n    abstract get value(): string;\r\n    abstract set value(newValue: string);\r\n}\r\n\r\nclass SingleLineEditBox extends EditBox {\r\n    private _inputElement: HTMLInputElement;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._inputElement = document.createElement(\"input\");\r\n        this._inputElement.className = \"ms-ctrl ms-ctrl-textbox\";\r\n        this._inputElement.type = \"text\";\r\n        this._inputElement.oninput = (e) => {\r\n            this.changed();\r\n        }\r\n    }\r\n\r\n    get element(): HTMLElement {\r\n        return this._inputElement;\r\n    }\r\n\r\n    set placeholder(value: string) {\r\n        this._inputElement.placeholder = value;\r\n    }\r\n\r\n    set lineCount(value: number) {\r\n        // lineCount can't be set on a SingleLineEditBox\r\n    }\r\n\r\n    set maxLength(value: number) {\r\n        if (this._inputElement.maxLength != value) {\r\n            this._inputElement.maxLength = value;\r\n\r\n            this.value = this.value.substr(0, value);\r\n        }\r\n    }\r\n\r\n    get value(): string {\r\n        return this._inputElement.value;\r\n    }\r\n\r\n    set value(newValue: string) {\r\n        this._inputElement.value = newValue;\r\n    }\r\n}\r\n\r\nclass MultilineEditBox extends EditBox {\r\n    private _textareaElement: HTMLTextAreaElement;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._textareaElement = document.createElement(\"textarea\");\r\n        this._textareaElement.className = \"ms-ctrl ms-ctrl-textbox ms-ctrl-textbox-multiline\";\r\n        this._textareaElement.oninput = (e) => {\r\n            this.changed();\r\n        }\r\n    }\r\n\r\n    get element(): HTMLElement {\r\n        return this._textareaElement;\r\n    }\r\n\r\n    set placeholder(value: string) {\r\n        this._textareaElement.placeholder = value;\r\n    }\r\n\r\n    set lineCount(value: number) {\r\n        this._textareaElement.rows = value;\r\n    }\r\n\r\n    set maxLength(value: number) {\r\n        if (this._textareaElement.maxLength != value) {\r\n            this._textareaElement.maxLength = value;\r\n\r\n            this.value = this.value.substr(0, value);\r\n        }\r\n    }\r\n\r\n    get value(): string {\r\n        return this._textareaElement.value;\r\n    }\r\n\r\n    set value(newValue: string) {\r\n        this._textareaElement.value = newValue;\r\n    }\r\n}\r\n\r\nexport class TextBox extends InputControl {\r\n    private _isMultiline: boolean = false;\r\n    private _lineCount: number = 3;\r\n    private _maxLength: number;\r\n    private _placeholder: string;\r\n    private _editBox: EditBox;\r\n\r\n    private editBoxChanged() {\r\n        if (this.onChange) {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    private recreateEditBox() {\r\n        var currentValue: string = null;\r\n\r\n        if (this._editBox) {\r\n            currentValue = this._editBox.value;\r\n        }\r\n        else {\r\n            currentValue = this.rootElement.innerText;\r\n        }\r\n\r\n        if (this._isMultiline) {\r\n            this._editBox = new MultilineEditBox();\r\n        }\r\n        else {\r\n            this._editBox = new SingleLineEditBox();\r\n        }\r\n\r\n        if (currentValue) {\r\n            this._editBox.value = currentValue;\r\n        }\r\n\r\n        this._editBox.lineCount = this._lineCount;\r\n        this._editBox.maxLength = this._maxLength;\r\n        this._editBox.placeholder = this._placeholder;\r\n        this._editBox.onChange = () => { this.editBoxChanged(); }\r\n\r\n        this.rootElement.innerHTML = \"\";\r\n        this.rootElement.appendChild(this._editBox.element);\r\n    }\r\n\r\n    private get editBox(): EditBox {\r\n        if (!this._editBox) {\r\n            this.recreateEditBox();\r\n        }\r\n\r\n        return this._editBox;\r\n    }\r\n\r\n    onChange: (sender: TextBox) => void;\r\n\r\n    attach(rootElement: HTMLElement) {\r\n        super.attach(rootElement);\r\n\r\n        this._isMultiline = Utils.getAttributeValueAsBool(rootElement, \"ismultiline\", false);\r\n        this._lineCount = Utils.getAttributeValueAsInt(rootElement, \"lines\", 3);\r\n        this._maxLength = Utils.getAttributeValueAsInt(rootElement, \"maxlength\", 50000);\r\n        this._placeholder = Utils.getAttributeValueAsString(rootElement, \"placeholder\", null);\r\n\r\n        this.recreateEditBox();\r\n    }\r\n\r\n    get value(): string {\r\n        return this.editBox.value;\r\n    }\r\n\r\n    set value(newValue: string) {\r\n        this.editBox.value = newValue;\r\n    }\r\n\r\n    get placeholder(): string {\r\n        return this._placeholder;\r\n    }\r\n\r\n    set placeholder(value: string) {\r\n        this._placeholder = value;\r\n        this.editBox.placeholder = value;\r\n    }\r\n\r\n    get isMultiline(): boolean {\r\n        return this._isMultiline;\r\n    }\r\n\r\n    set isMultiline(value: boolean) {\r\n        if (this._isMultiline != value) {\r\n            this._isMultiline = value;\r\n\r\n            this.recreateEditBox();\r\n        }\r\n    }\r\n\r\n    get lineCount(): number {\r\n        return this._lineCount;\r\n    }\r\n\r\n    set lineCount(value: number) {\r\n        if (value > 0) {\r\n            this._lineCount = value;\r\n            this.editBox.lineCount = value;\r\n        }\r\n    }\r\n\r\n    get maxLength(): number {\r\n        return this._maxLength;\r\n    }\r\n\r\n    set maxLength(value: number) {\r\n        if (value > 0) {\r\n            this._maxLength = value;\r\n            this.editBox.maxLength = value;\r\n        }\r\n    }\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as Constants from \"./constants\";\r\nimport { Collection } from \"./collection\";\r\nimport { PopupControl } from \"./inputwithpopup\";\r\nimport { DropDownItem } from \"./dropdown\";\r\n\r\nexport class PopupMenu extends PopupControl {\r\n    private _items: Collection<DropDownItem> = new Collection<DropDownItem>();\r\n    private _renderedItems: Array<HTMLElement> = [];\r\n    private _selectedIndex: number = -1;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected renderContent(): HTMLElement {\r\n        var element = document.createElement(\"div\");\r\n        element.className = \"ms-ctrl ms-popup\";\r\n\r\n        for (var i = 0; i < this._items.length; i++) {\r\n            var renderedItem = this._items.get(i).render();\r\n            renderedItem.tabIndex = 0;\r\n\r\n            element.appendChild(renderedItem);\r\n\r\n            if (i == this.selectedIndex) {\r\n                renderedItem.focus();\r\n            }\r\n\r\n            this._renderedItems.push(renderedItem);\r\n        }\r\n\r\n        return element;\r\n    }\r\n\r\n    keyDown(e: KeyboardEvent) {\r\n        super.keyDown(e);\r\n\r\n        var selectedItemIndex = this._selectedIndex;\r\n\r\n        switch (e.keyCode) {\r\n            case Constants.KEY_TAB:\r\n                this.closePopup(true);\r\n\r\n                break;\r\n            /*\r\n            case Constants.KEY_ENTER:\r\n                if (this.selectedIndex >= 0) {\r\n                    this.selectedIndex = this.selectedIndex;\r\n\r\n                    this.close();\r\n                }\r\n\r\n                break;\r\n            */\r\n            case Constants.KEY_UP:\r\n                if (selectedItemIndex <= 0) {\r\n                    selectedItemIndex = this._renderedItems.length - 1;\r\n                }\r\n                else {\r\n                    selectedItemIndex--;\r\n\r\n                    if (selectedItemIndex < 0) {\r\n                        selectedItemIndex = this._renderedItems.length - 1;\r\n                    }\r\n                }\r\n\r\n                this.selectedIndex = selectedItemIndex;\r\n\r\n                e.cancelBubble = true;\r\n\r\n                break;\r\n            case Constants.KEY_DOWN:\r\n                if (selectedItemIndex < 0) {\r\n                    selectedItemIndex = 0;\r\n                }\r\n                else {\r\n                    selectedItemIndex++;\r\n\r\n                    if (selectedItemIndex >= this._renderedItems.length) {\r\n                        selectedItemIndex = 0;\r\n                    }\r\n                }\r\n\r\n                this.selectedIndex = selectedItemIndex;\r\n\r\n                e.cancelBubble = true;\r\n\r\n                break;\r\n        }\r\n    }\r\n\r\n    get items(): Collection<DropDownItem> {\r\n        return this._items;\r\n    }\r\n\r\n    get selectedIndex(): number {\r\n        return this._selectedIndex;\r\n    }\r\n\r\n    set selectedIndex(index: number) {\r\n        if (index >= 0 && index < this._renderedItems.length) {\r\n            this._renderedItems[index].focus();\r\n\r\n            this._selectedIndex = index;\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":""}